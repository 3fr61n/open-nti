#[tags]
#  dc = "open-nti"

[agent]
  interval = "1m"
  round_interval = true
  flush_interval = "30s"
  flush_jitter = "0s"
  debug = true
  hostname = ""

[[outputs.influxdb]]
  urls = ["http://opennti:8086"]
  database = "juniper"
  precision = "s"
  retention_policy = ""
  timeout = "5s"

[[inputs.exec]]
  name_override = "netflow"
  # Shell/commands array
  commands = ["/bin/bash /data/templates/get_pmacct_stats.sh"]

  ## Timeout for each command to complete.
  timeout = "1m"

  # Data format to consume.
  data_format = "json"
  tag_keys = [
    "src_std_comm",
    "src_comms",
    "src_host",
    "dst_host",
    "src_port",
    "dst_port",
    "timestamp_start",
    "timestamp_end",
    "peer_src_ip",
    "peer_dst_ip",
    "peer_ip_src",
    "peer_ip_dst",
    "in_iface",
    "out_iface",
    "proto",
    "tos",
    "src_mask",
    "dst_mask",
    "src_net",
    "dst_net",
    "src_as",
    "dst_as",
    "tcpflags",
    "peer_ip_src",
    "peer_ip_dst",
    "src_comms",
    "ip_src",
    "net_src",
    "ip_dst",
    "net_dst",
    "tcp_flags",
    "ip_proto"
  ]

